%/snapshot save def
/evType exch def
transform
/evY exch def
/evX exch def
/checkElement {
    /element exch def
    /eventProcs element /eventProcs get def
    eventProcs evType known


    %/tType element /eType get  def
    %tType evType eq

    {

        /x element /x get def
        /y element /y get def
        /w element /w get def
        /h element /h get def

        evX x ge evY y ge and
        x w add evX ge y h add evY ge and
        and
        %{element /proc get exec exit}
        {element eventProcs evType get exec exit}
        if
    } if
} def
/search {gelements /maxElementNumber get 1 sub -1 0 {gelements exch get checkElement} for} def
search
%snapshot restore